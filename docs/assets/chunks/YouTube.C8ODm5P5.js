import{_ as h}from"./theme.Dex0qprN.js";import{_ as P,r as d,a as T,o as V,D as Y,c as u,b as c,f as S,h as n,g as p,e as r,W as f,k as A,j as C}from"./framework.Dm3xLcfC.js";const R={key:0,class:"cover"},B=["id"],N={class:"container"},g=["href"],$={class:"link-text"},x={class:"author"},L={__name:"YouTube",props:{link:{type:String,required:!0},autoStart:{type:Boolean,default:!1}},setup(m){var i;const a=d(),t=d(!1),s=m,k=T(),[w,v]=s.link.split("?"),[l]=w.split("/").slice(-1),_=(i=v.split("&").map(e=>e.split("=")).find(e=>e[0]==="t"))==null?void 0:i[1];V(()=>{s.autoStart===!0&&play()}),Y(()=>{var e,o;(o=(e=a==null?void 0:a.value)==null?void 0:e.destroy)==null||o.call(e)});const y=e=>{if(window.YT)return e();const o=document.createElement("script");o.src="https://www.youtube.com/iframe_api",o.onerror=()=>window.open(s.link,"_blank","noopener,noreferrer"),document.body.appendChild(o),window.onYouTubeIframeAPIReadyCallbacks=[...window.onYouTubeIframeAPIReadyCallbacks||[],e],window.onYouTubeIframeAPIReady=()=>{window.onYouTubeIframeAPIReadyCallbacks.forEach(I=>I()),delete window.onYouTubeIframeAPIReadyCallbacks,delete window.onYouTubeIframeAPIReady}},b=()=>{t.value!==!0&&y(()=>{t.value=!0,a.value=new YT.Player(l,{width:"100%",playerVars:{playsinline:1},events:{onReady:()=>{a.value.loadVideoById({videoId:l,startSeconds:_})}}})})};return(e,o)=>(c(),u("div",{class:"info custom-block wrapper",style:f({flexWrap:t.value?"wrap":"nowrap"})},[p(k).cover&&!t.value?(c(),u("div",R,[n("a",{onClick:b,class:"VPLink link VPNavScreenMenuGroupLink cover"},[r(e.$slots,"cover",{},void 0,!0)])])):S("",!0),n("div",{id:p(l),style:f({marginBottom:t.value?"8px":"0"})},null,12,B),n("div",N,[n("a",{class:"VPLink link vp-external-link-icon VPNavScreenMenuGroupLink",href:s.link,target:"_blank",rel:"noreferrer"},[A(h,{fill:"#ff0000"}),n("span",$,[r(e.$slots,"title",{},void 0,!0)]),n("span",x,[o[0]||(o[0]=C("@")),r(e.$slots,"author",{},void 0,!0)])],8,g),n("div",null,[r(e.$slots,"description",{},void 0,!0)])])],4))}},G=P(L,[["__scopeId","data-v-d76cd4ce"]]);export{G as Y};
